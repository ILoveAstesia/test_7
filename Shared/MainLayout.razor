@inherits LayoutComponentBase

<PageTitle>企业人力资管理系统</PageTitle>

<div class="page">
    <div class="sidebar">
        <NavMenu />
    </div>

    <main >
        <div class="top-row px-4">
            <a href="https://docs.microsoft.com/aspnet/" target="_blank">About</a>
        </div>

        <article class="content px-4" >
            @* <PageHeader Class="site-page-header" Title="test" Subtitle="This is a subtitle" />
            <br /> *@
            @using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
            @inject ProtectedSessionStorage ProtectedSessionStore;
            @inject NavigationManager NavigationManager
            @inject IHttpClientFactory httpClient;
            @{
                string BaseUri = NavigationManager.BaseUri;
                string Uri = NavigationManager.Uri;
                string blacklist=httpClient.CreateClient("client_1").BaseAddress+"counter";
                //await ProtectedSessionStore.SetAsync("Right", 0);
                var rightT = ProtectedSessionStore.GetAsync<int>("Right");
                //int pageRight=
            //; @Uri ;Right: @rightT  BlockUrl:@blacklist
            }
            <br />
            @if(Uri==blacklist){
                <h1>Sorry You Have No right to be here. </h1>
            }else{
                @Body
            }
        </article>
    </main>
</div>
